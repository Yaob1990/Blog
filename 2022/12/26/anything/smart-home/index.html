<!DOCTYPE HTML>
<html lang="zh-CN">


<head>
    <meta charset="utf-8">
    <meta name="keywords" content="HomeAssistant æ™ºèƒ½å®¶å±…å…¥é—¨, ä¸çŸ¥">
    <meta name="description" content="æ™ºèƒ½å®¶å±…æœ‰å¾ˆå¤šå‚å•†çš„æ–¹æ¡ˆï¼Œä½†æ˜¯åŸºæœ¬éƒ½æ˜¯æ‰“åŒ…æ–¹æ¡ˆï¼Œå¾ˆéš¾åœ¨ AB å‚å®¶ä¹‹é—´åšè”åŠ¨ï¼Œå¹¶ä¸”è¿™äº›æ–¹æ¡ˆéƒ½ä¾èµ–å‚å®¶çš„æœåŠ¡å™¨ï¼ŒæœåŠ¡å™¨å‡ºç°é—®é¢˜ï¼Œæ™ºèƒ½å˜æ™ºéšœã€‚

ä¾èµ–å‚å•†æœåŠ¡å™¨
æ— éšç§å¯è¨€ï¼Œæ•°æ®è¢«å‚å•†åˆ†æ
éš¾ä»¥å¤šå“ç‰Œè”åŠ¨
éš¾ä»¥å®šåˆ¶åŒ–

Home Assista">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
     <meta name="referrer" content="no-referrer-when-downgrade">
    <meta name="renderer" content="webkit|ie-stand|ie-comp">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>HomeAssistant æ™ºèƒ½å®¶å±…å…¥é—¨ | ä¸çŸ¥ | å‰ç«¯æŠ€æœ¯åˆ†äº«</title>
    <link rel="icon" type="image/png" href="/favicon.png">

    <link rel="stylesheet" type="text/css" href="/libs/awesome/css/all.css">
    <link rel="stylesheet" type="text/css" href="/libs/materialize/materialize.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/aos/aos.css">
    <link rel="stylesheet" type="text/css" href="/libs/animate/animate.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/lightGallery/css/lightgallery.min.css">
    <link rel="stylesheet" type="text/css" href="/css/matery.css">
    <link rel="stylesheet" type="text/css" href="/css/my.css">
    
    <script src="/libs/jquery/jquery.min.js"></script>
    
<meta name="generator" content="Hexo 6.3.0"><link rel="alternate" href="/atom.xml" title="ä¸çŸ¥" type="application/atom+xml">
<link rel="stylesheet" href="/css/prism-duotone-light.css" type="text/css"></head>


<body>
    <header class="navbar-fixed">
    <nav id="headNav" class="bg-color nav-transparent">
        <div id="navContainer" class="nav-wrapper head-container">
            <div class="brand-logo">
                <a href="/" class="waves-effect waves-light">
                    
                    <img src="/medias/logo.png" class="logo-img" alt="LOGO">
                    
                    <span class="logo-span">ä¸çŸ¥</span>
                </a>
            </div>
            

<a href="#" data-target="mobile-nav" class="sidenav-trigger button-collapse"><i class="fas fa-bars"></i></a>
<ul class="right nav-menu">
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/" class="waves-effect waves-light">
      
      <i class="fas fa-home" style="zoom: 0.6;"></i>
      
      <span>é¦–é¡µ</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/projects" class="waves-effect waves-light">
      
      <i class="fas fa-code-branch" style="zoom: 0.6;"></i>
      
      <span>é¡¹ç›®</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/tags" class="waves-effect waves-light">
      
      <i class="fas fa-tags" style="zoom: 0.6;"></i>
      
      <span>æ ‡ç­¾</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/categories" class="waves-effect waves-light">
      
      <i class="fas fa-bookmark" style="zoom: 0.6;"></i>
      
      <span>åˆ†ç±»</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/archives" class="waves-effect waves-light">
      
      <i class="fas fa-archive" style="zoom: 0.6;"></i>
      
      <span>å½’æ¡£</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/about" class="waves-effect waves-light">
      
      <i class="fas fa-user-circle" style="zoom: 0.6;"></i>
      
      <span>å…³äº</span>
    </a>
    
  </li>
  
  <li>
    <a href="#searchModal" class="modal-trigger waves-effect waves-light">
      <i id="searchIcon" class="fas fa-search" title="æœç´¢" style="zoom: 0.85;"></i>
    </a>
  </li>
</ul>

<div id="mobile-nav" class="side-nav sidenav">

    <div class="mobile-head bg-color">
        
        <img src="/medias/logo.png" class="logo-img circle responsive-img">
        
        <div class="logo-name">ä¸çŸ¥</div>
        <div class="logo-desc">
            
            æ²¡æœ‰ç»å¢ƒï¼Œåªæ˜¯ç»æœ›çš„å¿ƒæ€
            
        </div>
    </div>

    

    <ul class="menu-list mobile-menu-list">
        
        <li class="m-nav-item">
	  
		<a href="/" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-home"></i>
			
			é¦–é¡µ
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/projects" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-code-branch"></i>
			
			Projects
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/tags" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-tags"></i>
			
			æ ‡ç­¾
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/categories" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-bookmark"></i>
			
			åˆ†ç±»
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/archives" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-archive"></i>
			
			å½’æ¡£
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/about" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-user-circle"></i>
			
			å…³äº
		</a>
          
        </li>
        
        
    </ul>
</div>

        </div>

        
    </nav>

</header>

    



<div class="bg-cover pd-header post-cover" style="background-image: url('../../coverImages/smarthome.jpg')">
    <div class="container" style="right: 0px;left: 0px;">
        <div class="row">
            <div class="col s12 m12 l12">
                <div class="brand">
                    <h1 class="description center-align post-title">HomeAssistant æ™ºèƒ½å®¶å±…å…¥é—¨</h1>
                </div>
            </div>
        </div>
    </div>
</div>




<main class="post-container content">

    
    <link rel="stylesheet" href="/libs/tocbot/tocbot.css">
<style>
    #articleContent h1::before,
    #articleContent h2::before,
    #articleContent h3::before,
    #articleContent h4::before,
    #articleContent h5::before,
    #articleContent h6::before {
        display: block;
        content: " ";
        height: 100px;
        margin-top: -100px;
        visibility: hidden;
    }

    #articleContent :focus {
        outline: none;
    }

    .toc-fixed {
        position: fixed;
        top: 64px;
    }

    .toc-widget {
        width: 345px;
        padding-left: 20px;
    }

    .toc-widget .toc-title {
        margin: 35px 0 15px 0;
        padding-left: 17px;
        font-size: 1.5rem;
        font-weight: bold;
        line-height: 1.5rem;
    }

    .toc-widget ol {
        padding: 0;
        list-style: none;
    }

    #toc-content {
        height: calc(100vh - 250px);
        overflow: auto;
    }

    #toc-content ol {
        padding-left: 10px;
    }

    #toc-content ol li {
        padding-left: 10px;
    }

    #toc-content .toc-link:hover {
        color: #42b983;
        font-weight: 700;
        text-decoration: underline;
    }

    #toc-content .toc-link::before {
        background-color: transparent;
        max-height: 25px;
    }

    #toc-content .is-active-link {
        color: #42b983;
    }

    #toc-content .is-active-link::before {
        background-color: #42b983;
    }

    #floating-toc-btn {
        position: fixed;
        right: 15px;
        bottom: 76px;
        padding-top: 15px;
        margin-bottom: 0;
        z-index: 998;
    }

    #floating-toc-btn .btn-floating {
        width: 48px;
        height: 48px;
    }

    #floating-toc-btn .btn-floating i {
        line-height: 48px;
        font-size: 1.4rem;
    }
</style>
<div class="row">
    <div id="main-content" class="col s12 m12 l9">
        <!-- æ–‡ç« å†…å®¹è¯¦æƒ… -->
<div id="artDetail">
    <div class="card">
        <div class="card-content article-info">
            <div class="row tag-cate">
                <div class="col s7">
                    
                    <div class="article-tag">
                        
                            <a href="/tags/%E6%99%BA%E8%83%BD%E5%AE%B6%E5%B1%85/">
                                <span class="chip bg-color">æ™ºèƒ½å®¶å±…</span>
                            </a>
                        
                    </div>
                    
                </div>
                <div class="col s5 right-align">
                    
                    <div class="post-cate">
                        <i class="fas fa-bookmark fa-fw icon-category"></i>
                        
                            <a href="/categories/anything/" class="post-category">
                                anything
                            </a>
                        
                    </div>
                    
                </div>
            </div>

            <div class="post-info">
                
                <div class="post-date info-break-policy">
                    <i class="far fa-calendar-minus fa-fw"></i>å‘å¸ƒæ—¥æœŸ:&nbsp;&nbsp;
                    2022-12-26
                </div>
                

                

                
                <div class="info-break-policy">
                    <i class="far fa-file-word fa-fw"></i>æ–‡ç« å­—æ•°:&nbsp;&nbsp;
                    1.5k
                </div>
                

                
                <div class="info-break-policy">
                    <i class="far fa-clock fa-fw"></i>é˜…è¯»æ—¶é•¿:&nbsp;&nbsp;
                    5 åˆ†
                </div>
                

                
                    <div id="busuanzi_container_page_pv" class="info-break-policy">
                        <i class="far fa-eye fa-fw"></i>é˜…è¯»æ¬¡æ•°:&nbsp;&nbsp;
                        <span id="busuanzi_value_page_pv"></span>
                    </div>
				
            </div>

        </div>
        <hr class="clearfix">
        <div class="card-content article-card-content">
            <div id="articleContent">
                <p>æ™ºèƒ½å®¶å±…æœ‰å¾ˆå¤šå‚å•†çš„æ–¹æ¡ˆï¼Œä½†æ˜¯åŸºæœ¬éƒ½æ˜¯æ‰“åŒ…æ–¹æ¡ˆï¼Œå¾ˆéš¾åœ¨ AB å‚å®¶ä¹‹é—´åšè”åŠ¨ï¼Œå¹¶ä¸”è¿™äº›æ–¹æ¡ˆéƒ½ä¾èµ–å‚å®¶çš„æœåŠ¡å™¨ï¼ŒæœåŠ¡å™¨å‡ºç°é—®é¢˜ï¼Œæ™ºèƒ½å˜æ™ºéšœã€‚</p>
<ol>
<li>ä¾èµ–å‚å•†æœåŠ¡å™¨</li>
<li>æ— éšç§å¯è¨€ï¼Œæ•°æ®è¢«å‚å•†åˆ†æ</li>
<li>éš¾ä»¥å¤šå“ç‰Œè”åŠ¨</li>
<li>éš¾ä»¥å®šåˆ¶åŒ–</li>
</ol>
<h2 id="Home-Assistant"><a href="#Home-Assistant" class="headerlink" title="Home Assistant"></a>Home Assistant</h2><p>Home Assistant è¯ç”Ÿäº 2013 å¹´ï¼Œæ˜¯ä¸€æ¬¾åŸºäº Python å¼€å‘çš„ æ™ºèƒ½å®¶å±… å¼€æºç³»ç»Ÿï¼Œä»–çš„ä¸»è¦åŠŸèƒ½å°±æ˜¯å¯ä»¥å°†ä¸åŒå“ç‰Œçš„æ™ºèƒ½å®¶å±…è®¾å¤‡è¿æ¥èµ·æ¥äº’è”äº’é€šã€‚<br>è¿™ä¸ªå¼€æºé¡¹ç›®å·²ç»å‘å±•äº†å·²ç»å¿«åå¹´äº†ï¼ŒåŒæ—¶æœŸçš„å…¶ä»–ç±»ä¼¼é¡¹ç›®éƒ½å·²ç»é›¨æ‰“é£å¹å»äº†ï¼Œç›®å‰çœ‹ Home Assistant æ›´æ–°è¿˜æ˜¯å¾ˆé¢‘ç¹çš„ï¼Œæ¯ä¸ªæœˆéƒ½æœ‰å¥½å‡ ä¸ªç‰ˆæœ¬å‘å¸ƒã€‚</p>
<p><img src="/images/2022/12/26/16720467288022.jpg"></p>
<p>ç›®å‰æˆ‘æ‰‹ä¸Šç»å¤§éƒ¨åˆ†æ™ºèƒ½å®¶å±…è®¾å¤‡éƒ½å¯ä»¥é€šè¿‡ HomeAssistant æ¥å…¥ã€‚</p>
<ol>
<li>ç¾¤æ™–ï¼šç›‘å¬æ¸©åº¦ï¼Œç¡¬ç›˜çŠ¶æ€ç­‰</li>
<li>ç¾çš„ç‡ƒæ°”çƒ­æ°´å™¨ï¼šæ°´æ¸©ï¼Œèƒ½è€—</li>
<li>å°ç±³ã€æ¶‚é¸¦å¼€å…³ï¼šå¼€å…³é€šæ–­ã€èƒ½è€—</li>
<li>ç±³å®¶ç©ºè°ƒä¼´ä¾£ï¼šè‡ªåŠ¨åŒ–ç©ºè°ƒè®¾ç½®</li>
<li>å°ç±³æ‰‹æœºï¼šåˆ¤æ–­æ˜¯å¦åœ¨å®¶ï¼Œè‡ªåŠ¨åŒ–ç¯å…·</li>
<li>Apple tvï¼šè‡ªåŠ¨åŒ–å¼€å¯å…³é—­ç­‰</li>
<li>æ¶‚é¸¦çª—å¸˜æœºï¼šè‡ªåŠ¨åŒ–çª—å¸˜å¼€å¯å…³é—­</li>
</ol>
<p><img src="/images/2022/12/26/16720467288022.jpg"></p>
<h3 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h3><ol>
<li>Docker å®‰è£…ï¼Œæ³¨æ„è¿™ä¸ªç‰ˆæœ¬æ˜¯åŠæ®‹åºŸç‰ˆæœ¬ï¼Œæ²¡æœ‰ addon-on,</li>
<li>è™šæ‹Ÿæœºå®‰è£…ï¼Œå¦‚æœä½¿ç”¨ unraidï¼Œç¾¤æ™–ï¼Œå»ºè®®å®‰è£…è¿™ä¸ªç‰ˆæœ¬ï¼ŒåŠŸèƒ½æœ€å…¨</li>
<li>è´­ä¹°æˆå“ï¼Œä¸€èˆ¬æ˜¯é­”ç™¾ç›’åˆ·æœºä¹‹åï¼Œåˆ·å…¥äº† Debianï¼Œç„¶åå®‰è£…çš„ HomeAssistant<br><img src="/images/2022/12/26/16720467533799.jpg"></li>
</ol>
<p><img src="/images/2022/12/26/16720467618102.jpg"></p>
<h2 id="zigBee"><a href="#zigBee" class="headerlink" title="zigBee"></a>zigBee</h2><p>ZigBee å®é™…æ˜¯ä¸€ç§çŸ­è·ç¦»ã€ä½åŠŸè€—çš„æ— çº¿é€šä¿¡æŠ€æœ¯ï¼Œåç§°æ¥æºäº ZigZagâ€”â€”ä¸€ç§èœœèœ‚çš„è‚¢ä½“è¯­è¨€ã€‚å½“èœœèœ‚æ–°å‘ç°ä¸€ç‰‡èŠ±ä¸›åä¼šç”¨ç‰¹æ®Šèˆè¹ˆæ¥å‘ŠçŸ¥åŒä¼´å‘ç°çš„é£Ÿç‰©ç§ç±»åŠä½ç½®ç­‰ä¿¡æ¯ï¼Œæ˜¯èœœèœ‚ç¾¤ä½“é—´ä¸€ç§ç®€å•ã€é«˜æ•ˆçš„ä¼ é€’ä¿¡æ¯æ–¹å¼ï¼Œå› æ­¤ ZigBee ä¹Ÿè¢«ç§°ä¸ºâ€œç´«èœ‚åè®®â€ã€‚</p>
<p>æŠ€æœ¯ä¼˜åŠ¿ï¼š</p>
<ol>
<li>è¶…ä½åŠŸè€—</li>
<li>å®‰å…¨æ€§é«˜</li>
<li>è‡ªç»„ç½‘ï¼Œå¯å®¹çº³ç”µå­è®¾å¤‡å¤š</li>
<li>å¯é æ€§é«˜</li>
</ol>
<p>ä¸æ¨èå¤§é‡è®¾å¤‡é€šè¿‡ wifi æ¥å…¥ï¼Œä½¿ç”¨ zigBee ç¨³å®šæ€§è¦æ¯” wifi é«˜å¾ˆå¤šï¼Œç›®å‰æˆ‘çš„æ–°è´­å…¥è®¾å¤‡éƒ½æ˜¯ zigBeeã€‚</p>
<h2 id="Zigbee2mqtt"><a href="#Zigbee2mqtt" class="headerlink" title="Zigbee2mqtt"></a>Zigbee2mqtt</h2><p>Zigbee2mqtt æ˜¯ä¸€ä¸ªå°† Zigbee åè®®è½¬åŒ–æˆ MQTT çš„æ¡¥æ¥å·¥å…·, ä»è€Œæ¥å…¥æ™ºèƒ½å®¶å±…å¹³å°ã€‚æ¨èç›´æ¥è´­ä¹°é›†æˆäº† zigBee æ¨¡å—çš„ç›’å­ã€‚<br>Zigbee2mqtt æ”¯æŒçš„è®¾å¤‡å¤šå¤§ 2572 ç§ï¼Œå¹¶ä¸”è¿˜åœ¨æŒç»­å¢åŠ ä¸­ã€‚</p>
<p><img src="/images/2022/12/26/16720467728426.jpg"></p>
<p><img src="/images/2022/12/26/16720467818118.jpg"></p>
<p><img src="/images/2022/12/26/16720467884269.jpg"></p>
<h2 id="ç±³å®¶è®¾å¤‡â€”â€”Xiaomi-Miot-Auto"><a href="#ç±³å®¶è®¾å¤‡â€”â€”Xiaomi-Miot-Auto" class="headerlink" title="ç±³å®¶è®¾å¤‡â€”â€”Xiaomi Miot Auto"></a>ç±³å®¶è®¾å¤‡â€”â€”Xiaomi Miot Auto</h2><p><a target="_blank" rel="noopener" href="https://iot.mi.com/new/doc/design/spec/overall">MIoT-Spec</a>Â æ˜¯å°ç±³ IoT å¹³å°æ ¹æ®ç¡¬ä»¶äº§å“çš„è”ç½‘æ–¹å¼ã€äº§å“åŠŸèƒ½çš„ç‰¹ç‚¹ã€ç”¨æˆ·ä½¿ç”¨åœºæ™¯çš„ç‰¹å¾å’Œç”¨æˆ·å¯¹ç¡¬ä»¶äº§å“ä½¿ç”¨ä½“éªŒçš„è¦æ±‚ï¼Œè®¾è®¡çš„æè¿°ç¡¬ä»¶äº§å“åŠŸèƒ½å®šä¹‰çš„æ ‡å‡†è§„èŒƒã€‚</p>
<p>æœ¬æ’ä»¶åˆ©ç”¨äº† <strong>miot</strong> åè®®çš„è§„èŒƒï¼Œå¯å°†å°ç±³è®¾å¤‡è‡ªåŠ¨æ¥å…¥ <a target="_blank" rel="noopener" href="https://www.home-assistant.io/">HomeAssistant</a>ï¼Œç›®å‰å·²æ”¯æŒå¤§éƒ¨åˆ†å°ç±³ç±³å®¶æ™ºèƒ½è®¾å¤‡ã€‚ä¸”è¯¥æ’ä»¶æ”¯æŒ HA åå°ç•Œé¢é›†æˆï¼Œæ— éœ€é…ç½® yaml å³å¯è½»æ¾å°†å°ç±³è®¾å¤‡æ¥å…¥ HAã€‚</p>
<h2 id="æ”¯æŒçš„è®¾å¤‡"><a href="#æ”¯æŒçš„è®¾å¤‡" class="headerlink" title="æ”¯æŒçš„è®¾å¤‡"></a><a target="_blank" rel="noopener" href="https://github.com/al-one/hass-xiaomi-miot/issues/12">æ”¯æŒçš„è®¾å¤‡</a></h2><ul>
<li>ğŸ”ŒÂ <a target="_blank" rel="noopener" href="https://home.miot-spec.com/s/plug">æ’åº§</a>Â /Â <a target="_blank" rel="noopener" href="https://home.miot-spec.com/s/switch">å¼€å…³</a></li>
<li>ğŸ’¡Â <a target="_blank" rel="noopener" href="https://home.miot-spec.com/s/light">æ™ºèƒ½ç¯</a></li>
<li>â„ï¸Â <a target="_blank" rel="noopener" href="https://home.miot-spec.com/s/aircondition">ç©ºè°ƒ</a>Â /Â <a target="_blank" rel="noopener" href="https://home.miot-spec.com/s/acpartner">ç©ºè°ƒä¼´ä¾£</a>Â /Â <a target="_blank" rel="noopener" href="https://home.miot-spec.com/s/miir.aircondition">çº¢å¤–ç©ºè°ƒ</a></li>
<li>ğŸŒ€Â <a target="_blank" rel="noopener" href="https://home.miot-spec.com/s/fan">é£æ‰‡</a>Â /Â <a target="_blank" rel="noopener" href="https://home.miot-spec.com/s/ven_fan">å‡‰éœ¸</a></li>
<li>ğŸ›€Â <a target="_blank" rel="noopener" href="https://home.miot-spec.com/s/bhf_light">æµ´éœ¸</a>Â /Â ğŸ”¥Â <a target="_blank" rel="noopener" href="https://home.miot-spec.com/s/heater">å–æš–å™¨</a>Â /Â <a target="_blank" rel="noopener" href="https://home.miot-spec.com/s/airrtc">æ¸©æ§å™¨</a></li>
<li>ğŸ“·Â <a target="_blank" rel="noopener" href="https://home.miot-spec.com/s/camera">æ‘„åƒå¤´</a>Â /Â <a target="_blank" rel="noopener" href="https://home.miot-spec.com/s/cateye">çŒ«çœ¼/å¯è§†é—¨é“ƒ</a>Â <a target="_blank" rel="noopener" href="https://github.com/al-one/hass-xiaomi-miot/issues/100#issuecomment-903078604">â“ï¸</a></li>
<li>ğŸ“ºÂ <a target="_blank" rel="noopener" href="https://home.miot-spec.com/s/tv">ç”µè§†</a>Â /Â ğŸ“½ï¸Â <a target="_blank" rel="noopener" href="https://home.miot-spec.com/s/projector">æŠ•å½±ä»ª</a>Â /Â <a target="_blank" rel="noopener" href="https://home.miot-spec.com/s/tvbox">æœºé¡¶ç›’</a></li>
<li>ğŸ—£ï¸Â <a target="_blank" rel="noopener" href="https://home.miot-spec.com/s/wifispeaker">å°çˆ±éŸ³ç®±</a>Â <a target="_blank" rel="noopener" href="https://github.com/al-one/hass-xiaomi-miot/issues/100#issuecomment-885989099">â“ï¸</a></li>
<li>ğŸ®ï¸Â <a target="_blank" rel="noopener" href="https://home.miot-spec.com/s/chuangmi.remote">ä¸‡èƒ½é¥æ§å™¨</a>Â <a target="_blank" rel="noopener" href="https://github.com/al-one/hass-xiaomi-miot/commit/fbcc8063783e53b9480574536a034d338634f4e8#commitcomment-56563663">â“ï¸</a></li>
<li>ğŸ”Â <a target="_blank" rel="noopener" href="https://home.miot-spec.com/s/lock">æ™ºèƒ½é—¨é”</a>Â /Â ğŸšªÂ <a target="_blank" rel="noopener" href="https://home.miot-spec.com/s/door">æ™ºæ…§é—¨</a></li>
<li>ğŸ‘•Â <a target="_blank" rel="noopener" href="https://home.miot-spec.com/s/washer">æ´—è¡£æœº</a>Â /Â <a target="_blank" rel="noopener" href="https://home.miot-spec.com/s/dry">å¹²è¡£æœº</a>Â /Â <a target="_blank" rel="noopener" href="https://home.miot-spec.com/s/fridge">å†°ç®±</a></li>
<li>ğŸš°Â <a target="_blank" rel="noopener" href="https://home.miot-spec.com/s/waterpuri">å‡€æ°´å™¨</a>Â /Â <a target="_blank" rel="noopener" href="https://home.miot-spec.com/s/kettle">é¥®æ°´æœº</a></li>
<li>â™»ï¸Â <a target="_blank" rel="noopener" href="https://home.miot-spec.com/s/airpurifier">ç©ºæ°”å‡€åŒ–å™¨</a>Â /Â <a target="_blank" rel="noopener" href="https://home.miot-spec.com/s/airfresh">æ–°é£æœº</a>Â /Â <a target="_blank" rel="noopener" href="https://home.miot-spec.com/s/hood">æ²¹çƒŸæœº</a></li>
<li>ğŸŒ¡Â <a target="_blank" rel="noopener" href="https://home.miot-spec.com/s/sensor_ht">æ¸©æ¹¿åº¦ä¼ æ„Ÿå™¨</a>Â /Â <a target="_blank" rel="noopener" href="https://home.miot-spec.com/s/flood">æ°´ä¾µä¼ æ„Ÿå™¨</a>Â /Â <a target="_blank" rel="noopener" href="https://home.miot-spec.com/s/sensor_smoke">çƒŸé›¾ä¼ æ„Ÿå™¨</a></li>
<li>ğŸ¥˜Â <a target="_blank" rel="noopener" href="https://home.miot-spec.com/s/cooker">ç”µé¥­ç…²</a>Â /Â <a target="_blank" rel="noopener" href="https://home.miot-spec.com/s/pre_cooker">å‹åŠ›é”…</a></li>
<li>ğŸ²Â <a target="_blank" rel="noopener" href="https://home.miot-spec.com/s/ihcooker">ç”µç£ç‚‰</a>Â /Â <a target="_blank" rel="noopener" href="https://home.miot-spec.com/s/oven">çƒ¤ç®±</a>Â /Â <a target="_blank" rel="noopener" href="https://home.miot-spec.com/s/microwave">å¾®æ³¢ç‚‰</a></li>
<li>ğŸ—Â <a target="_blank" rel="noopener" href="https://home.miot-spec.com/s/fryer">ç©ºæ°”ç‚¸é”…</a>Â /Â <a target="_blank" rel="noopener" href="https://home.miot-spec.com/s/mfcp">å¤šåŠŸèƒ½é”…</a></li>
<li>ğŸµÂ <a target="_blank" rel="noopener" href="https://home.miot-spec.com/s/health_pot">å…»ç”Ÿå£¶</a>Â /Â â˜•ï¸Â <a target="_blank" rel="noopener" href="https://home.miot-spec.com/s/coffee">å’–å•¡æœº</a></li>
<li>ğŸ¹Â <a target="_blank" rel="noopener" href="https://home.miot-spec.com/s/juicer">ç ´å£æœº</a>Â /Â <a target="_blank" rel="noopener" href="https://home.miot-spec.com/s/juicer">æ…æ‹Œæœº</a>Â /Â <a target="_blank" rel="noopener" href="https://home.miot-spec.com/s/f_washer">æœè”¬æ¸…æ´—æœº</a></li>
<li>â™¨ï¸Â <a target="_blank" rel="noopener" href="https://home.miot-spec.com/s/waterheater">çƒ­æ°´å™¨</a>Â /Â <a target="_blank" rel="noopener" href="https://home.miot-spec.com/s/dishwasher">æ´—ç¢—æœº</a>Â /Â <a target="_blank" rel="noopener" href="https://home.miot-spec.com/s/foot_bath">è¶³æµ´å™¨</a></li>
<li>ğŸ¦ Â <a target="_blank" rel="noopener" href="https://home.miot-spec.com/s/steriliser">æ¶ˆæ¯’æŸœ</a></li>
<li>ğŸªŸÂ <a target="_blank" rel="noopener" href="https://home.miot-spec.com/s/curtain">çª—å¸˜ç”µæœº</a>Â /Â <a target="_blank" rel="noopener" href="https://home.miot-spec.com/s/wopener">å¼€çª—å™¨</a>Â /Â <a target="_blank" rel="noopener" href="https://home.miot-spec.com/s/airer">æ™¾è¡£æœº</a></li>
<li>ğŸ§¹Â <a target="_blank" rel="noopener" href="https://home.miot-spec.com/s/vacuum">æ‰«åœ°/æ‰«æ‹–æœºå™¨äºº</a>Â /Â <a target="_blank" rel="noopener" href="https://home.miot-spec.com/s/.mop">æ“¦åœ°æœº</a></li>
<li>ğŸ’¦Â <a target="_blank" rel="noopener" href="https://home.miot-spec.com/s/humidifier">åŠ æ¹¿å™¨</a>Â /Â <a target="_blank" rel="noopener" href="https://home.miot-spec.com/s/derh">é™¤æ¹¿å™¨</a>Â /Â <a target="_blank" rel="noopener" href="https://home.miot-spec.com/s/diffuser">é™¤å‘³å™¨</a></li>
<li>ğŸƒÂ <a target="_blank" rel="noopener" href="https://home.miot-spec.com/s/airmonitor">ç©ºæ°”æ£€æµ‹ä»ª</a>Â /Â ğŸª´Â <a target="_blank" rel="noopener" href="https://home.miot-spec.com/s/plantmonitor">æ¤ç‰©ç›‘æµ‹ä»ª</a></li>
<li>ğŸ›Â <a target="_blank" rel="noopener" href="https://home.miot-spec.com/s/bed">ç”µåŠ¨åºŠ</a>Â /Â <a target="_blank" rel="noopener" href="https://home.miot-spec.com/s/blanket">ç”µçƒ­æ¯¯/æ°´æš–åºŠå«</a>Â /Â ğŸ˜´Â <a target="_blank" rel="noopener" href="https://home.miot-spec.com/s/lunar">ç¡çœ ç›‘æµ‹ä»ª</a></li>
<li>ğŸ’†Â <a target="_blank" rel="noopener" href="https://home.miot-spec.com/s/massage">æŒ‰æ‘©æ¤…</a>Â /Â <a target="_blank" rel="noopener" href="https://home.miot-spec.com/s/magic_touch">æŒ‰æ‘©ä»ª</a></li>
<li>ğŸƒÂ <a target="_blank" rel="noopener" href="https://home.miot-spec.com/s/walkingpad">èµ°æ­¥æœº</a>Â /Â <a target="_blank" rel="noopener" href="https://home.miot-spec.com/s/treadmill">è·‘æ­¥æœº</a>Â /Â <a target="_blank" rel="noopener" href="https://home.miot-spec.com/s/desk">å‡é™æ¡Œ</a></li>
<li>ğŸš½Â <a target="_blank" rel="noopener" href="https://home.miot-spec.com/s/toilet">é©¬æ¡¶(ç›–)</a>Â /ï¸Â <a target="_blank" rel="noopener" href="https://home.miot-spec.com/s/.tow">æ¯›å·¾æ¶</a>Â /ï¸Â ğŸª¥Â <a target="_blank" rel="noopener" href="https://home.miot-spec.com/s/toothbrush">ç‰™åˆ·</a></li>
<li>ğŸ±Â <a target="_blank" rel="noopener" href="https://home.miot-spec.com/s/feeder">å® ç‰©å–‚é£Ÿå™¨</a>Â /Â â›²Â <a target="_blank" rel="noopener" href="https://home.miot-spec.com/s/pet_waterer">å® ç‰©é¥®æ°´æœº</a>Â /Â ğŸŸÂ <a target="_blank" rel="noopener" href="https://home.miot-spec.com/s/fishbowl">é±¼ç¼¸</a></li>
<li>ğŸ¦ŸÂ <a target="_blank" rel="noopener" href="https://home.miot-spec.com/s/mosq">é©±èšŠå™¨</a>Â /Â <a target="_blank" rel="noopener" href="https://home.miot-spec.com/s/s_lamp">æ¶ˆæ¯’/ç­èŒç¯</a></li>
<li>ğŸš˜Â <a target="_blank" rel="noopener" href="https://home.miot-spec.com/s/rv_mirror">æ™ºèƒ½åè§†é•œ</a>Â /Â <a target="_blank" rel="noopener" href="https://home.miot-spec.com/s/hud">æŠ¬å¤´æ˜¾ç¤ºHUD</a></li>
<li>âŒšï¸Â <a target="_blank" rel="noopener" href="https://home.miot-spec.com/s/watch">æ™ºèƒ½/å„¿ç«¥æ‰‹è¡¨</a>Â /Â <a target="_blank" rel="noopener" href="https://home.miot-spec.com/s/bracelet">æ‰‹ç¯</a></li>
<li>ğŸš¶Â <a target="_blank" rel="noopener" href="https://home.miot-spec.com/s/motion">äººä½“ä¼ æ„Ÿå™¨</a>Â /Â ğŸ§²Â <a target="_blank" rel="noopener" href="https://home.miot-spec.com/s/magnet">é—¨çª—ä¼ æ„Ÿå™¨</a>Â <a target="_blank" rel="noopener" href="https://github.com/al-one/hass-xiaomi-miot/issues/100#issuecomment-909031222">â“ï¸</a></li>
<li>ğŸ“³Â <a target="_blank" rel="noopener" href="https://home.miot-spec.com/s/vibration">åŠ¨é™è´´</a></li>
<li>ğŸŒÂ <a target="_blank" rel="noopener" href="https://home.miot-spec.com/s/router">è·¯ç”±å™¨</a>Â /Â ğŸ–¨Â <a target="_blank" rel="noopener" href="https://home.miot-spec.com/s/printer">æ‰“å°æœº</a></li>
</ul>
<p>æ¥å…¥ä¹‹åï¼Œå‡ ä¹ä¸éœ€è¦ä»»ä½•é…ç½®å°±å¯ä»¥ç›´æ¥ä½¿ç”¨ï¼Œå¹¶ä¸”å’Œæ‰‹æœºä½¿ç”¨ç±³å®¶ä¸å†²çªã€‚</p>
<h2 id="ESP32"><a href="#ESP32" class="headerlink" title="ESP32"></a>ESP32</h2><p>ä¸Šé¢è¿™äº›ä¸œè¥¿ï¼ŒåŒ…æ‹¬è¿›ä¸€æ­¥çš„è‡ªåŠ¨åŒ–ï¼Œå¯ä»¥ç©ä¸€ä¸ªæœˆäº†ï¼Œå¦‚æœè¿˜ä¸è¿‡ç˜¾ï¼Œå¯ä»¥ç»§ç»­çœ‹çœ‹ ESP32ï¼Œè‡ªå·±åŠ¨æ‰‹åšæ™ºèƒ½å®¶å±…ã€‚</p>
<p>ESP32 è¯´çš„æ˜¯ä¸»æ¿ä¸Šçš„ä¸»æ§èŠ¯ç‰‡ï¼Œæ˜¯ç”±æˆ‘å›½çš„ä¹é‘«å…¬å¸ (ESPRESSIF) ç»§ ESP8266 èŠ¯ç‰‡åæ¨å‡ºçš„åˆä¸€æ¬¾é›†æˆ WiFi åŠŸèƒ½çš„å¾®æ§åˆ¶å™¨ã€‚ESP32 èŠ¯ç‰‡æˆ–æ¨¡ç»„å…·æœ‰ä¸‹åˆ—ç‰¹ç‚¹ï¼š</p>
<p>å¤„ç†å™¨ï¼šTensilica LX6 åŒæ ¸å¤„ç†å™¨ï¼ˆä¸€æ ¸å¤„ç†é«˜é€Ÿè¿æ¥ï¼›ä¸€æ ¸ç‹¬ç«‹åº”ç”¨å¼€å‘ï¼‰<br>ä¸»é¢‘ï¼š32 ä½åŒæ ¸å¤„ç†å™¨ï¼ŒCPU æ­£å¸¸å·¥ä½œé€Ÿåº¦ä¸º 80 MHzï¼Œæœ€é«˜å¯è¾¾ 240 MHz<br>SRAMï¼š520KBï¼Œæœ€å¤§æ”¯æŒ 8 MB ç‰‡å¤– SPI SRAM<br>Flashï¼šæœ€å¤§æ”¯æŒ 16 MB ç‰‡å¤– SPI Flash<br>WiFi åè®®ï¼šæ”¯æŒ 802.11 b/g/n/d/e/i/k/r ç­‰åè®®ï¼Œé€Ÿåº¦é«˜è¾¾ 150 Mbps<br>é¢‘ç‡èŒƒå›´ï¼š2.4~2.5 GHz<br>è“ç‰™åè®®ï¼šæ”¯æŒè“ç‰™ v4.2 å®Œæ•´æ ‡å‡†ï¼ŒåŒ…å«ä¼ ç»Ÿè“ç‰™ (BR/EDR) å’Œä½åŠŸè€—è“ç‰™ (BLE)<br>åŒæ—¶ä»–è¿˜å…·å¤‡ä¸°å¯Œçš„å¤–è®¾æ¥å£ï¼šæ¯”å¦‚ GPIOã€ADCã€DACã€SPIã€IÂ²Cã€IÂ²Sã€UART ç­‰å¸¸ç”¨æ¥å£ä¸€ä¸ªä¸å°‘</p>
<h3 id="ç‹¬ç«‹ç½‘å…³"><a href="#ç‹¬ç«‹ç½‘å…³" class="headerlink" title="ç‹¬ç«‹ç½‘å…³"></a>ç‹¬ç«‹ç½‘å…³</h3><p><img src="/images/2022/12/26/16720468061875.jpg"></p>
<p><img src="/images/2022/12/26/16720468142750.jpg"></p>
<p>å°é»„é±¼æœ‰å¾ˆå¤šå‡ºå”®è¿™ç§ zigBee å¸¦ç½‘å…³çš„ï¼Œå°±æ˜¯ä½¿ç”¨ ESP32 æ¥å®ç°çš„ï¼ŒESP32 è¿è¡ŒæœåŠ¡å™¨ï¼Œmqtt ç­‰å†…å®¹ï¼Œå¯¹å¤–å‘é€æŠ¥æ–‡ï¼Œè¿™æ ·å°±å¯ä»¥ä¸èµ° H omeAssistant ç±»ä¼¼å¹³å°ï¼Œä½†æ˜¯å¼±ç‚¹ä¹Ÿå¾ˆæ˜æ˜¾ï¼Œæ”¯æŒçš„è®¾å¤‡æœ‰é™ï¼Œæ¯æ¬¡æ–°å¢è®¾å¤‡ç±»å‹ï¼Œå°±éœ€è¦åˆ·æ–°å›ºä»¶ï¼Œæˆ–è€…è‡ªå·±ç¼–è¯‘å›ºä»¶ï¼Œå¦‚æœå¯¹æ–¹å›ºä»¶ä¸å¼€æºï¼Œé‚£å¯ç©æ€§å°±å¤§æ‰“æŠ˜æ‰£ã€‚</p>
<h3 id="è‡ªå·±åšæ‘„åƒå¤´"><a href="#è‡ªå·±åšæ‘„åƒå¤´" class="headerlink" title="è‡ªå·±åšæ‘„åƒå¤´"></a>è‡ªå·±åšæ‘„åƒå¤´</h3><p><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/577606023">ESP32 CAMé€šè¿‡ESPHomeè¿æ¥åˆ°Homeassistant - çŸ¥ä¹</a></p>
<h2 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h2><ul>
<li><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/577606023">ESP32 CAMé€šè¿‡ESPHomeè¿æ¥åˆ°Homeassistant - çŸ¥ä¹</a></li>
<li><a target="_blank" rel="noopener" href="https://iot.mi.com/new/doc/introduction/main">å°ç±³IoTå¼€å‘è€…å¹³å°</a></li>
<li><a target="_blank" rel="noopener" href="https://www.home-assistant.io/">Home Assistant</a></li>
<li><a target="_blank" rel="noopener" href="https://www.zigbee2mqtt.io/">Home | Zigbee2MQTT</a></li>
<li><a target="_blank" rel="noopener" href="https://www.xiaoweigod.com/network/2235.html">å°ç±³æ™ºèƒ½å®¶å±…ç¬¬ä¸‰æ–¹æ§åˆ¶ä¹‹ä¸€ï¼šæå–ç±³å®¶APIå¹¶æ§åˆ¶-å°ä¼Ÿåšå®¢</a></li>
</ul>

            </div>
            <hr/>

            



            <div class="tag_share" style="display: block;">
                <div class="post-meta__tag-list" style="display: inline-block;">
                    
                        <div class="article-tag">
                            
                                <a href="/tags/%E6%99%BA%E8%83%BD%E5%AE%B6%E5%B1%85/">
                                    <span class="chip bg-color">æ™ºèƒ½å®¶å±…</span>
                                </a>
                            
                        </div>
                    
                </div>
                <div class="post_share" style="zoom: 80%; width: fit-content; display: inline-block; float: right; margin: -0.15rem 0;">
                    <link rel="stylesheet" type="text/css" href="/libs/share/css/share.min.css">

<div id="article-share">
    
    

    

</div>

                </div>
            </div>
            
        </div>
    </div>

    

    

    

    

    

    

<article id="prenext-posts" class="prev-next articles">
    <div class="row article-row">
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge left-badge text-color">
                <i class="fas fa-chevron-left"></i>&nbsp;ä¸Šä¸€ç¯‡</div>
            <div class="card">
                <a href="/2023/01/02/anything/2022/">
                    <div class="card-image">
                        
                        <img src="/../../coverImages/2022.png" class="responsive-img" alt="2022 å›é¡¾">
                        
                        <span class="card-title">2022 å›é¡¾</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            
æ—¶å…‰å¦‚å°å·ï¼Œä¸€ä¸å°å¿ƒï¼Œå¥¹å·²ç»å·å…‰äº†ä½ çš„æ‰€æœ‰ã€‚

åšå®¢ä»Šå¹´åªäº§å‡ºäº† 11 ç¯‡æ–‡ç« ï¼Œæ¯”è®¡åˆ’ä¸­çš„è¦å°‘ä¸å°‘ï¼Œä½†æ˜¯æˆ‘ä¹Ÿä¸æƒ³å¼ºæ±‚è‡ªå·±ï¼Œæœ‰æ—¶å€™å†™äº†ï¼Œæ²¡å‘è¡¨ï¼Œæœ‰æ—¶å€™ï¼Œæ˜¯çœŸçš„æ²¡æœ‰å¿ƒå¢ƒå»å†™ã€‚æ˜å¹´ï¼Œäº‰å–ï¼Œæ¯ä¸ªæœˆä¸¤ç¯‡ï¼Œè¿™æ ·ä¸€å¹´å°±æœ‰ 24 ç¯‡ï¼Œè¿˜æ˜¯æœ‰å¾ˆå¤šæœ‰æ„æ€çš„ä¸»
                        
                    </div>
                    <div class="publish-info">
                        <span class="publish-date">
                            <i class="far fa-clock fa-fw icon-date"></i>2023-01-02
                        </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/anything/" class="post-category">
                                    anything
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
            </div>
        </div>
        
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge right-badge text-color">
                ä¸‹ä¸€ç¯‡&nbsp;<i class="fas fa-chevron-right"></i>
            </div>
            <div class="card">
                <a href="/2022/12/02/front-end/regex/">
                    <div class="card-image">
                        
                        <img src="/../../coverImages/regex.png" class="responsive-img" alt="æ­£åˆ™è¡¨è¾¾å¼">
                        
                        <span class="card-title">æ­£åˆ™è¡¨è¾¾å¼</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            æ­£åˆ™è¡¨è¾¾å¼æ˜¯åŒ¹é…æ¨¡å¼ï¼Œè¦ä¹ˆåŒ¹é…å­—ç¬¦ï¼Œè¦ä¹ˆåŒ¹é…ä½ç½®ã€‚èƒ½å¤Ÿå®ç°æ¨¡ç³ŠåŒ¹é…ã€‚

æ¨ªå‘æ¨¡ç³ŠåŒ¹é…ï¼šæ­£åˆ™å¯åŒ¹é…çš„å­—ç¬¦ä¸²çš„é•¿åº¦æ˜¯ä¸å›ºå®šçš„
çºµå‘æ¨¡ç³ŠåŒ¹é…ï¼šæ­£åˆ™åŒ¹é…çš„å­—ç¬¦ä¸²ï¼Œå…·ä½“åˆ°æŸä¸€ä½æ•°å­—æ—¶ï¼Œä»–å¯ä»¥ä¸æ˜¯æŸä¸ªç¡®å®šçš„å­—ç¬¦ï¼Œå¯ä»¥ç”¨å¤šç§å¯èƒ½ã€‚

åŒ¹é…å­—ç¬¦å­—ç¬¦ç»„
é‡è¯
                        
                    </div>
                    <div class="publish-info">
                            <span class="publish-date">
                                <i class="far fa-clock fa-fw icon-date"></i>2022-12-02
                            </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/front-end/" class="post-category">
                                    front-end
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
            </div>
        </div>
        
    </div>
</article>

</div>



<!-- ä»£ç å—åŠŸèƒ½ä¾èµ– -->
<script type="text/javascript" src="/libs/codeBlock/codeBlockFuction.js"></script>

<!-- ä»£ç è¯­è¨€ -->

<script type="text/javascript" src="/libs/codeBlock/codeLang.js"></script>


<!-- ä»£ç å—å¤åˆ¶ -->

<script type="text/javascript" src="/libs/codeBlock/codeCopy.js"></script>


<!-- ä»£ç å—æ”¶ç¼© -->

<script type="text/javascript" src="/libs/codeBlock/codeShrink.js"></script>


<!-- ä»£ç å—æŠ˜è¡Œ -->

<style type="text/css">
code[class*="language-"], pre[class*="language-"] { white-space: pre !important; }
</style>


    </div>
    <div id="toc-aside" class="expanded col l3 hide-on-med-and-down">
        <div class="toc-widget">
            <div class="toc-title"><i class="far fa-list-alt"></i>&nbsp;&nbsp;ç›®å½•</div>
            <div id="toc-content"></div>
        </div>
    </div>
</div>

<!-- TOC æ‚¬æµ®æŒ‰é’®. -->

<div id="floating-toc-btn" class="hide-on-med-and-down">
    <a class="btn-floating btn-large bg-color">
        <i class="fas fa-list-ul"></i>
    </a>
</div>


<script src="/libs/tocbot/tocbot.min.js"></script>
<script>
    $(function () {
        tocbot.init({
            tocSelector: '#toc-content',
            contentSelector: '#articleContent',
            headingsOffset: -($(window).height() * 0.4 - 45),
            collapseDepth: Number(''),
            headingSelector: 'h2, h3, h4'
        });

        // modify the toc link href to support Chinese.
        let i = 0;
        let tocHeading = 'toc-heading-';
        $('#toc-content a').each(function () {
            $(this).attr('href', '#' + tocHeading + (++i));
        });

        // modify the heading title id to support Chinese.
        i = 0;
        $('#articleContent').children('h2, h3, h4').each(function () {
            $(this).attr('id', tocHeading + (++i));
        });

        // Set scroll toc fixed.
        let tocHeight = parseInt($(window).height() * 0.4 - 64);
        let $tocWidget = $('.toc-widget');
        $(window).scroll(function () {
            let scroll = $(window).scrollTop();
            /* add post toc fixed. */
            if (scroll > tocHeight) {
                $tocWidget.addClass('toc-fixed');
            } else {
                $tocWidget.removeClass('toc-fixed');
            }
        });

        
        /* ä¿®å¤æ–‡ç« å¡ç‰‡ div çš„å®½åº¦. */
        let fixPostCardWidth = function (srcId, targetId) {
            let srcDiv = $('#' + srcId);
            if (srcDiv.length === 0) {
                return;
            }

            let w = srcDiv.width();
            if (w >= 450) {
                w = w + 21;
            } else if (w >= 350 && w < 450) {
                w = w + 18;
            } else if (w >= 300 && w < 350) {
                w = w + 16;
            } else {
                w = w + 14;
            }
            $('#' + targetId).width(w);
        };

        // åˆ‡æ¢TOCç›®å½•å±•å¼€æ”¶ç¼©çš„ç›¸å…³æ“ä½œ.
        const expandedClass = 'expanded';
        let $tocAside = $('#toc-aside');
        let $mainContent = $('#main-content');
        $('#floating-toc-btn .btn-floating').click(function () {
            if ($tocAside.hasClass(expandedClass)) {
                $tocAside.removeClass(expandedClass).hide();
                $mainContent.removeClass('l9');
            } else {
                $tocAside.addClass(expandedClass).show();
                $mainContent.addClass('l9');
            }
            fixPostCardWidth('artDetail', 'prenext-posts');
        });
        
    });
</script>

    

</main>



    <footer class="page-footer bg-color">
    <div class="container row center-align" style="margin-bottom: 15px !important;">
        <div class="col s12 m8 l8 l12 copy-right">
            Copyright&nbsp;&copy;
            <span id="year">2018</span>
            <a href="https://jscoder.com" target="_blank">Yao</a>
            |&nbsp;Powered by&nbsp;<a href="https://hexo.io/" target="_blank">Hexo</a>
            |&nbsp;Theme&nbsp;<a href="https://github.com/blinkfox/hexo-theme-matery" target="_blank">Matery</a>
            <br>
            
            
            
            
            
            
            <span id="busuanzi_container_site_pv">
                |&nbsp;<i class="far fa-eye"></i>&nbsp;æ€»è®¿é—®é‡:&nbsp;<span id="busuanzi_value_site_pv"
                    class="white-color"></span>&nbsp;æ¬¡
            </span>
            
            
            <span id="busuanzi_container_site_uv">
                |&nbsp;<i class="fas fa-users"></i>&nbsp;æ€»è®¿é—®äººæ•°:&nbsp;<span id="busuanzi_value_site_uv"
                    class="white-color"></span>&nbsp;äºº
            </span>
            
            <br>
            
            <span id="sitetime">è½½å…¥è¿è¡Œæ—¶é—´...</span>
            <script>
                function siteTime() {
                    var seconds = 1000;
                    var minutes = seconds * 60;
                    var hours = minutes * 60;
                    var days = hours * 24;
                    var years = days * 365;
                    var today = new Date();
                    var startYear = "2018";
                    var startMonth = "1";
                    var startDate = "1";
                    var startHour = "0";
                    var startMinute = "0";
                    var startSecond = "0";
                    var todayYear = today.getFullYear();
                    var todayMonth = today.getMonth() + 1;
                    var todayDate = today.getDate();
                    var todayHour = today.getHours();
                    var todayMinute = today.getMinutes();
                    var todaySecond = today.getSeconds();
                    var t1 = Date.UTC(startYear, startMonth, startDate, startHour, startMinute, startSecond);
                    var t2 = Date.UTC(todayYear, todayMonth, todayDate, todayHour, todayMinute, todaySecond);
                    var diff = t2 - t1;
                    var diffYears = Math.floor(diff / years);
                    var diffDays = Math.floor((diff / days) - diffYears * 365);
                    var diffHours = Math.floor((diff - (diffYears * 365 + diffDays) * days) / hours);
                    var diffMinutes = Math.floor((diff - (diffYears * 365 + diffDays) * days - diffHours * hours) /
                        minutes);
                    var diffSeconds = Math.floor((diff - (diffYears * 365 + diffDays) * days - diffHours * hours -
                        diffMinutes * minutes) / seconds);
                    if (startYear == todayYear) {
                        document.getElementById("year").innerHTML = todayYear;
                        document.getElementById("sitetime").innerHTML = "æœ¬ç«™å·²å®‰å…¨è¿è¡Œ " + diffDays + " å¤© " + diffHours +
                            " å°æ—¶ " + diffMinutes + " åˆ†é’Ÿ " + diffSeconds + " ç§’";
                    } else {
                        document.getElementById("year").innerHTML = startYear + " - " + todayYear;
                        document.getElementById("sitetime").innerHTML = "æœ¬ç«™å·²å®‰å…¨è¿è¡Œ " + diffYears + " å¹´ " + diffDays +
                            " å¤© " + diffHours + " å°æ—¶ " + diffMinutes + " åˆ†é’Ÿ " + diffSeconds + " ç§’";
                    }
                }
                setInterval(siteTime, 1000);
            </script>
            
            <br>
            
            <span id="icp"><img src="/medias/icp.png" style="vertical-align: text-bottom;" />
                <a href="http://beian.miit.gov.cn/" target="_blank">è‹ICPå¤‡15047519å·-5</a>
            </span>
            
        </div>
        <div class="col s12 m4 l4 social-link social-statis">
    <a href="https://github.com/Yaob1990" class="tooltipped" target="_blank" data-tooltip="è®¿é—®æˆ‘çš„GitHub" data-position="top" data-delay="50">
        <i class="fab fa-github"></i>
    </a>














<!---->
<!--    <a href="/atom.xml" class="tooltipped" target="_blank" data-tooltip="RSS è®¢é˜…" data-position="top" data-delay="50">-->
<!--        <i class="fas fa-rss"></i>-->
<!--    </a>-->
<!---->
</div>
    </div>
</footer>

<div class="progress-bar"></div>


    <!-- æœç´¢é®ç½©æ¡† -->
<div id="searchModal" class="modal">
    <div class="modal-content">
        <div class="search-header">
            <span class="title"><i class="fas fa-search"></i>&nbsp;&nbsp;æœç´¢</span>
            <input type="search" id="searchInput" name="s" placeholder="è¯·è¾“å…¥æœç´¢çš„å…³é”®å­—"
                   class="search-input">
        </div>
        <div id="searchResult"></div>
    </div>
</div>

<script src="/js/search.js"></script>
<script type="text/javascript">
$(function () {
    searchFunc("/" + "search.xml", 'searchInput', 'searchResult');
});
</script>
    <!-- å›åˆ°é¡¶éƒ¨æŒ‰é’® -->
<div id="backTop" class="top-scroll">
    <a class="btn-floating btn-large waves-effect waves-light" href="#!">
        <i class="fas fa-arrow-up"></i>
    </a>
</div>


    <script src="/libs/materialize/materialize.min.js"></script>
    <script src="/libs/masonry/masonry.pkgd.min.js"></script>
    <script src="/libs/aos/aos.js"></script>
    <script src="/libs/scrollprogress/scrollProgress.min.js"></script>
    <script src="/libs/lightGallery/js/lightgallery-all.min.js"></script>
    <script src="/js/matery.js"></script>
    <script charset="UTF-8" id="LA_COLLECT" src="//sdk.51.la/js-sdk-pro.min.js"></script>
    <script>LA.init({id: "JP4LMqo4Cf82naAQ",ck: "JP4LMqo4Cf82naAQ"})</script>

    <!-- Global site tag (gtag.js) - Google Analytics -->

<script async src="https://www.googletagmanager.com/gtag/js?id=G-NNFT7CSJRC"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag() {
        dataLayer.push(arguments);
    }

    gtag('js', new Date());
    gtag('config', 'G-NNFT7CSJRC');
</script>


    <!-- Baidu Analytics -->

    <!-- Baidu Push -->

<script>
    (function () {
        var bp = document.createElement('script');
        var curProtocol = window.location.protocol.split(':')[0];
        if (curProtocol === 'https') {
            bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
        } else {
            bp.src = 'http://push.zhanzhang.baidu.com/push.js';
        }
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(bp, s);
    })();
</script>

    
    <script src="/libs/others/clicklove.js" async="async"></script>
    
    
    <script async src="/libs/others/busuanzi.pure.mini.js"></script>
    

    

    

    

    

    
    <script type="text/javascript" src="/libs/background/ribbon-dynamic.js" async="async"></script>
    
    
    
    <script src="/libs/instantpage/instantpage.js" type="module"></script>
    

</body>

</html>
