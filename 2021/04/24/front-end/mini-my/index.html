<!DOCTYPE HTML>
<html lang="zh-CN">


<head>
    <meta charset="utf-8">
    <meta name="keywords" content="【支付宝小程序】我们常用的 &#39;my&#39; 是什么？, 不知">
    <meta name="description" content="支付宝小程序开发中我们使用的 my 其实就是 jsbrige 注入的一个对象。JSBridge，简单来说就是web和native之间的桥梁,有了它你就可以在web页面中唤起native应用提供的能力。例如：唤起相册，获取应用登陆用户信息等等">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="renderer" content="webkit|ie-stand|ie-comp">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>【支付宝小程序】我们常用的 &#39;my&#39; 是什么？ | 不知</title>
    <link rel="icon" type="image/png" href="/favicon.png">

    <link rel="stylesheet" type="text/css" href="/libs/awesome/css/all.css">
    <link rel="stylesheet" type="text/css" href="/libs/materialize/materialize.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/aos/aos.css">
    <link rel="stylesheet" type="text/css" href="/libs/animate/animate.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/lightGallery/css/lightgallery.min.css">
    <link rel="stylesheet" type="text/css" href="/css/matery.css">
    <link rel="stylesheet" type="text/css" href="/css/my.css">
    
    <script src="/libs/jquery/jquery.min.js"></script>
    
<meta name="generator" content="Hexo 4.1.1"><link rel="alternate" href="/atom.xml" title="不知" type="application/atom+xml">
<link rel="stylesheet" href="/css/prism-tomorrow.css" type="text/css"></head>


<body>
    <header class="navbar-fixed">
    <nav id="headNav" class="bg-color nav-transparent">
        <div id="navContainer" class="nav-wrapper head-container">
            <div class="brand-logo">
                <a href="/" class="waves-effect waves-light">
                    
                    <img src="/medias/logo.png" class="logo-img" alt="LOGO">
                    
                    <span class="logo-span">不知</span>
                </a>
            </div>
            

<a href="#" data-target="mobile-nav" class="sidenav-trigger button-collapse"><i class="fas fa-bars"></i></a>
<ul class="right nav-menu">
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/" class="waves-effect waves-light">
      
      <i class="fas fa-home" style="zoom: 0.6;"></i>
      
      <span>首页</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/projects" class="waves-effect waves-light">
      
      <i class="fas fa-code-branch" style="zoom: 0.6;"></i>
      
      <span>项目</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/tags" class="waves-effect waves-light">
      
      <i class="fas fa-tags" style="zoom: 0.6;"></i>
      
      <span>标签</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/categories" class="waves-effect waves-light">
      
      <i class="fas fa-bookmark" style="zoom: 0.6;"></i>
      
      <span>分类</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/archives" class="waves-effect waves-light">
      
      <i class="fas fa-archive" style="zoom: 0.6;"></i>
      
      <span>归档</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/about" class="waves-effect waves-light">
      
      <i class="fas fa-user-circle" style="zoom: 0.6;"></i>
      
      <span>关于</span>
    </a>
    
  </li>
  
  <li>
    <a href="#searchModal" class="modal-trigger waves-effect waves-light">
      <i id="searchIcon" class="fas fa-search" title="搜索" style="zoom: 0.85;"></i>
    </a>
  </li>
</ul>

<div id="mobile-nav" class="side-nav sidenav">

    <div class="mobile-head bg-color">
        
        <img src="/medias/logo.png" class="logo-img circle responsive-img">
        
        <div class="logo-name">不知</div>
        <div class="logo-desc">
            
            没有绝境，只是绝望的心态
            
        </div>
    </div>

    

    <ul class="menu-list mobile-menu-list">
        
        <li class="m-nav-item">
	  
		<a href="/" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-home"></i>
			
			首页
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/projects" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-code-branch"></i>
			
			Projects
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/tags" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-tags"></i>
			
			标签
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/categories" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-bookmark"></i>
			
			分类
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/archives" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-archive"></i>
			
			归档
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/about" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-user-circle"></i>
			
			关于
		</a>
          
        </li>
        
        
    </ul>
</div>

        </div>

        
    </nav>

</header>

    



<div class="bg-cover pd-header post-cover" style="background-image: url('../../coverImages/mini-alipay.jpeg')">
    <div class="container" style="right: 0px;left: 0px;">
        <div class="row">
            <div class="col s12 m12 l12">
                <div class="brand">
                    <h1 class="description center-align post-title">【支付宝小程序】我们常用的 &#39;my&#39; 是什么？</h1>
                </div>
            </div>
        </div>
    </div>
</div>




<main class="post-container content">

    
    <link rel="stylesheet" href="/libs/tocbot/tocbot.css">
<style>
    #articleContent h1::before,
    #articleContent h2::before,
    #articleContent h3::before,
    #articleContent h4::before,
    #articleContent h5::before,
    #articleContent h6::before {
        display: block;
        content: " ";
        height: 100px;
        margin-top: -100px;
        visibility: hidden;
    }

    #articleContent :focus {
        outline: none;
    }

    .toc-fixed {
        position: fixed;
        top: 64px;
    }

    .toc-widget {
        width: 345px;
        padding-left: 20px;
    }

    .toc-widget .toc-title {
        margin: 35px 0 15px 0;
        padding-left: 17px;
        font-size: 1.5rem;
        font-weight: bold;
        line-height: 1.5rem;
    }

    .toc-widget ol {
        padding: 0;
        list-style: none;
    }

    #toc-content {
        height: calc(100vh - 250px);
        overflow: auto;
    }

    #toc-content ol {
        padding-left: 10px;
    }

    #toc-content ol li {
        padding-left: 10px;
    }

    #toc-content .toc-link:hover {
        color: #42b983;
        font-weight: 700;
        text-decoration: underline;
    }

    #toc-content .toc-link::before {
        background-color: transparent;
        max-height: 25px;
    }

    #toc-content .is-active-link {
        color: #42b983;
    }

    #toc-content .is-active-link::before {
        background-color: #42b983;
    }

    #floating-toc-btn {
        position: fixed;
        right: 15px;
        bottom: 76px;
        padding-top: 15px;
        margin-bottom: 0;
        z-index: 998;
    }

    #floating-toc-btn .btn-floating {
        width: 48px;
        height: 48px;
    }

    #floating-toc-btn .btn-floating i {
        line-height: 48px;
        font-size: 1.4rem;
    }
</style>
<div class="row">
    <div id="main-content" class="col s12 m12 l9">
        <!-- 文章内容详情 -->
<div id="artDetail">
    <div class="card">
        <div class="card-content article-info">
            <div class="row tag-cate">
                <div class="col s7">
                    
                    <div class="article-tag">
                        
                            <a href="/tags/%E5%B0%8F%E7%A8%8B%E5%BA%8F/">
                                <span class="chip bg-color">小程序</span>
                            </a>
                        
                    </div>
                    
                </div>
                <div class="col s5 right-align">
                    
                    <div class="post-cate">
                        <i class="fas fa-bookmark fa-fw icon-category"></i>
                        
                            <a href="/categories/%E5%89%8D%E7%AB%AF/" class="post-category">
                                前端
                            </a>
                        
                    </div>
                    
                </div>
            </div>

            <div class="post-info">
                
                <div class="post-date info-break-policy">
                    <i class="far fa-calendar-minus fa-fw"></i>发布日期:&nbsp;&nbsp;
                    2021-04-24
                </div>
                

                

                
                <div class="info-break-policy">
                    <i class="far fa-file-word fa-fw"></i>文章字数:&nbsp;&nbsp;
                    849
                </div>
                

                
                <div class="info-break-policy">
                    <i class="far fa-clock fa-fw"></i>阅读时长:&nbsp;&nbsp;
                    4 分
                </div>
                

                
                    <div id="busuanzi_container_page_pv" class="info-break-policy">
                        <i class="far fa-eye fa-fw"></i>阅读次数:&nbsp;&nbsp;
                        <span id="busuanzi_value_page_pv"></span>
                    </div>
				
            </div>

        </div>
        <hr class="clearfix">
        <div class="card-content article-card-content">
            <div id="articleContent">
                <p>支付宝小程序开发中我们使用的 <code>my</code> 其实就是 jsbrige 注入的一个对象。<br>JSBridge，简单来说就是web和native之间的桥梁,有了它你就可以在web页面中唤起native应用提供的能力。例如：唤起相册，获取应用登陆用户信息等等。</p>
<p>在支付宝小程序中，’my’ 这个对象可读可写。</p>
<pre class=" language-js"><code class="language-js">my<span class="token punctuation">.</span>a <span class="token operator">=</span> <span class="token number">1</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>my<span class="token punctuation">.</span>a<span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// 1</span></code></pre>
<h2 id="遍历-my-对象"><a href="#遍历-my-对象" class="headerlink" title="遍历 my 对象"></a>遍历 my 对象</h2><pre class=" language-js"><code class="language-js"> Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>my<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>key <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre>
<p>结果：</p>
<pre class=" language-js"><code class="language-js">isIDE 
on 
off 
emit 
callSync 
call 
reLaunch 
navigateTo 
switchTab 
redirectTo 
navigateBack 
postMessage 
createAnimation 
pageScrollTo 
loadPlugin 
SDKVersion 
ExtSDKVersion 
getExtConfigSync 
getAppIdSync 
getExtConfig 
canIUse 
onAppShow 
offAppShow 
onAppHide 
offAppHide 
getLaunchOptionsSync 
onError 
offError 
onUnhandledRejection 
offUnhandledRejection 
env 
createWorker 
connectSocket 
downloadFile 
uploadFile 
request 
uploadFileToAliCloud 
createInnerAudioContext 
getBackgroundAudioManager 
createAudioContext 
reportAnalytics 
reportCustomEvent 
getChinfoChain 
appendChinfoChain 
createSelectorQuery 
navigateToMiniService 
navigateBackFromMiniService 
startMiniService 
setOptionMenu 
getOpenUserInfo 
getPhoneNumber 
getIDNumber 
getRecorderManager 
getUpdateManager 
getFileSystemManager 
createIntersectionObserver 
_fireIntersectionObserver 
loadFontFace 
createRDSContext 
stopPullDownRefresh 
hideKeyboard 
__reportFrameworkPerf 
reportCustomError 
saveSnapshot 
saveTemplateSnapshot 
showSharePanel 
hideDebugVersion 
getSelectedTextRange 
canvasToTempFilePath 
preloadCanvasImage 
createCanvasContext 
_createCanvas 
_createOffscreenCanvas 
createWebViewContext 
createAICameraContext 
createARContext 
createCameraContext 
createLivePlayerContext 
createLivePusherContext 
createLottieContext 
createMapContext 
createVideoContext 
rpc 
ocr 
ap 
startRecord 
stopRecord 
cancelRecord 
playVoice 
pauseVoice 
resumeVoice 
stopVoice 
playBackgroundAudio 
pauseBackgroundAudio 
stopBackgroundAudio 
seekBackgroundAudio 
getBackgroundAudioPlayerState 
onBackgroundAudioPlay 
offBackgroundAudioPlay 
onBackgroundAudioPause 
offBackgroundAudioPause 
onBackgroundAudioStop 
offBackgroundAudioStop 
getAvailableAudioSources 
openBluetoothAdapter 
closeBluetoothAdapter 
getBluetoothAdapterState 
startBluetoothDevicesDiscovery 
stopBluetoothDevicesDiscovery 
getBluetoothDevices 
getConnectedBluetoothDevices 
connectBLEDevice 
disconnectBLEDevice 
writeBLECharacteristicValue 
readBLECharacteristicValue 
notifyBLECharacteristicValueChange 
getBLEDeviceServices 
getBLEDeviceCharacteristics 
onBLECharacteristicValueChange 
offBLECharacteristicValueChange 
onBLEConnectionStateChanged 
offBLEConnectionStateChanged 
onBluetoothDeviceFound 
offBluetoothDeviceFound 
startBeaconDiscovery 
stopBeaconDiscovery 
getBeacons 
onBeaconUpdate 
offBeaconUpdate 
onBeaconServiceChange 
offBeaconServiceChange 
openBLEPeripheral 
closeBLEPeripheral 
addPeripheralService 
removePeripheralService 
updateCharacteristic 
startBLEAdvertising 
stopBLEAdvertising 
onBluetoothAdapterStateChange 
offBluetoothAdapterStateChange 
onCharacteristicRead 
offCharacteristicRead 
onCharacteristicWrite 
offCharacteristicWrite 
onCharacteristicDidSubscribe 
offCharacteristicDidSubscribe 
onCharacteristicDidUnsubscribe 
offCharacteristicDidUnsubscribe 
addPhoneContact 
getSystemInfoSync 
onGyroscopeChange 
offGyroscopeChange 
onAccelerometerChange 
offAccelerometerChange 
onCompassChange 
offCompassChange 
getServerTime 
makePhoneCall 
vibrate 
watchShake 
rsa 
sendSMS 
setKeepScreenOn 
setClipboard 
getClipboard 
scan 
getSystemInfo 
setScreenBrightness 
getScreenBrightness 
startWifi 
stopWifi 
connectWifi 
getWifiList 
setWifiList 
getConnectedWifi 
onGetWifiList 
offGetWifiList 
onWifiConnected 
offWifiConnected 
onMemoryWarning 
offMemoryWarning 
vibrateLong 
vibrateShort 
getHCEState 
startHCE 
stopHCE 
onHCEMessage 
offHCEMessage 
sendHCEMessage 
getBatteryInfo 
getBatteryInfoSync 
onDeviceMotionChange 
offDeviceMotionChange 
getDeviceInfo 
registerSSID 
unregisterSSID 
getCarrierName 
isSystemRoot 
setScreenOrientation 
getScreenOrientation 
getDeviceID 
exit 
seNFCServiceIsv 
addEventCal 
addEventCalendar 
onLowPowerWarning 
offLowPowerWarning 
isLowPowerMode 
getLocation 
openLocation 
chooseLocation 
reGeoCode 
geoCode 
onContinuousLocation 
offContinuousLocation 
startContinuousLocation 
stopContinuousLocation 
calculateRoute 
compressImage 
previewImage 
chooseFileFromDisk 
chooseImage 
chooseVideo 
saveImage 
getImageInfo 
saveVideoToPhotosAlbum 
generateImageFromCode 
saveImageToPhotosAlbum 
textToSpeech 
onAudioInterruptionBegin 
onAudioInterruptionEnd 
offAudioInterruptionBegin 
offAudioInterruptionEnd 
httpRequest 
sendSocketMessage 
closeSocket 
onSocketOpen 
offSocketOpen 
onSocketMessage 
offSocketMessage 
onSocketError 
offSocketError 
onSocketClose 
offSocketClose 
getNetworkType 
onNetworkStatusChange 
offNetworkStatusChange 
sendMtop 
getTBCode 
setTBSessionInfo 
getTBSessionInfo 
openRpc 
tradePay 
getUserInfo 
getAuthCode 
authorize 
getAuthUserInfo 
ARScan 
addCardAuth 
openSetting 
getSetting 
openCustomerService 
getConfigService 
getOpenUserData 
openOtherApplication 
donateInBrowser 
getStorageInfo 
getStorageInfoSync 
setStorage 
setStorageSync 
getStorage 
getStorageSync 
clearStorage 
clearStorageSync 
removeStorage 
removeStorageSync 
showAuthGuide 
getAuthStatus 
alert 
confirm 
prompt 
showToast 
hideToast 
showLoading 
hideLoading 
showNavigationBarLoading 
hideNavigationBarLoading 
setNavigationBar 
showActionSheet 
choosePhoneContact 
chooseAlipayContact 
datePicker 
chooseCity 
multiLevelSelect 
optionsSelect 
chooseContact 
hideShareMenu 
startPullDownRefresh 
setTransparentTitle 
showBackToHomepage 
setViewTop 
setCanPullDown 
setBackgroundImage 
removeBackgroundImage 
setBackgroundColor 
setBackgroundTextStyle 
setBackButton 
setLocatedCity 
onLocatedComplete 
setTabBarBadge 
removeTabBarBadge 
showTabBarRedDot 
hideTabBarRedDot 
setTabBarStyle 
setTabBarItem 
showTabBar 
hideTabBar 
getTitleColor 
regionPicker 
getMenuButtonBoundingClientRect 
onUserCaptureScreen 
offUserCaptureScreen 
onTitleCloseClick 
offTitleCloseClick 
onTitleMoreClick 
offTitleMoreClick 
iotCreateService 
iotCheckService 
saveFile 
removeSavedFile 
getSavedFileInfo 
getSavedFileList 
getFileInfo 
openDocument 
openTaobao 
reportBizReady 
getVisitToken 
navigateToCouponDetail 
openCardList 
openVoucherList 
openTicketList 
openCardDetail 
openVoucherDetail 
openTicketDetail 
openMerchantCardList 
openMerchantVoucherList 
openMerchantTicketList 
openKBVoucherDetail 
paySignCenter 
zmCreditBorrow 
textRiskIdentification 
openCarService 
openChatWindow 
__openLifePayment 
chooseAddress 
getAddress 
startZMCreditRent 
zmRentTransition 
chooseInvoiceTitle 
zmFreeDeposit 
hideAddToDesktopMenu 
hideAllAddToDesktopMenu 
hideFavoriteMenu 
hideAllFavoriteMenu 
setCustomPopMenu 
getRunScene 
navigateToMiniProgram 
navigateBackMiniProgram 
isCollected 
isFavorite 
addToFavorite 
removeFromFavorite 
onFavorite 
offFavorite 
onInternalFavorite 
offInternalFavorite 
canFavorite 
hideBackHome 
getRunData 
isSpeechRecognizeAvailable 
startSpeechRecognize 
stopSpeechRecognize 
onSpeechRecognizeResult 
offSpeechRecognizeResult 
onSpeechRecognizeError 
offSpeechRecognizeError 
startZMVerify 
startAPVerify 
createRtcRoomContext 
getExtConfig </code></pre>
<p>所有在 my 这个对象上面挂载的方法都在这里了，比文档里面的要多得多。</p>
<pre class=" language-js"><code class="language-js">on 
off 
emit</code></pre>
<pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">// A 页面</span>
my<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'test'</span><span class="token punctuation">,</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token operator">=</span><span class="token operator">></span><span class="token punctuation">{</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// 被触发,回调被执行，打印出 {a:1}</span>
<span class="token comment" spellcheck="true">// B 页面</span>
my<span class="token punctuation">.</span><span class="token function">emit</span><span class="token punctuation">(</span><span class="token string">'test'</span><span class="token punctuation">,</span><span class="token punctuation">{</span>a<span class="token punctuation">:</span><span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre>
<p>这三个函数明显是事件总线的实现机制，经过测试完全可用（未测试低版本基础库） <del>~</del></p>
<h2 id="通过-my-实现全局数据共享"><a href="#通过-my-实现全局数据共享" class="headerlink" title="通过 my 实现全局数据共享"></a>通过 my 实现全局数据共享</h2><p>一般小程序里面全局数据我们使用 globalData 处理，它本质上也只是一个全局对象。my 的性质和他类似，我们甚至可以修改 my 本身的数据，实现全局的页面数据共享</p>
<pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">// A 页面</span>
my<span class="token punctuation">.</span>a<span class="token operator">=</span><span class="token number">1</span>
<span class="token comment" spellcheck="true">// B 页面</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>my<span class="token punctuation">.</span>a<span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// 1</span></code></pre>
<p>完全没问题，这还是引用类型数据，如果修改就直接修改啦，不需要获取上一个页面的实例，然后再去写一大摞代码~<br>eg:</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">const</span> pages <span class="token operator">=</span> <span class="token function">getCurrentPages</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> lastPage <span class="token operator">=</span> pages<span class="token punctuation">[</span>pages<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
lastPage<span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    a<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>一对比，明显优雅太多太多了。</p>
<h2 id="警告"><a href="#警告" class="headerlink" title="警告"></a>警告</h2><p>本篇博客的一些技法，都不是常规业务实现办法，责任自负。<br>小程序的这些非公共方法，在使用的时候，最好能做一层 polyfill，防止某些环境某些方法不存在。</p>
<p>参考资料：</p>
<ul>
<li><a href="https://doingsth.github.io/yongqiang.shen/js/wxapp/" target="_blank" rel="noopener">教你做一个小程序框架 - yongqiang.shen</a></li>
</ul>

            </div>
            <hr/>

            



            <div class="tag_share" style="display: block;">
                <div class="post-meta__tag-list" style="display: inline-block;">
                    
                        <div class="article-tag">
                            
                                <a href="/tags/%E5%B0%8F%E7%A8%8B%E5%BA%8F/">
                                    <span class="chip bg-color">小程序</span>
                                </a>
                            
                        </div>
                    
                </div>
                <div class="post_share" style="zoom: 80%; width: fit-content; display: inline-block; float: right; margin: -0.15rem 0;">
                    <link rel="stylesheet" type="text/css" href="/libs/share/css/share.min.css">

<div id="article-share">
    
    

    

</div>

                </div>
            </div>
            
        </div>
    </div>

    

    

    

    

    

    

<article id="prenext-posts" class="prev-next articles">
    <div class="row article-row">
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge left-badge text-color">
                <i class="fas fa-chevron-left"></i>&nbsp;上一篇</div>
            <div class="card">
                <a href="/2021/05/22/front-end/sync-movement-steps/">
                    <div class="card-image">
                        
                        <img src="/../../coverImages/walk.jpeg" class="responsive-img" alt="运动步数修改器 web 版本">
                        
                        <span class="card-title">运动步数修改器 web 版本</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            
思路
修改本地步数，比如健康的数据，比较麻烦，没有找到特别方便的方法。
摇步器，慢慢慢，工作时间内只能摇 20 公里左右
通过第三方同步数据，比如乐心健康，小米运动等通过接口同步到微星、支付宝等平台

实现实现其实挺简单的，github 
                        
                    </div>
                    <div class="publish-info">
                        <span class="publish-date">
                            <i class="far fa-clock fa-fw icon-date"></i>2021-05-22
                        </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/%E5%89%8D%E7%AB%AF/" class="post-category">
                                    前端
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
            </div>
        </div>
        
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge right-badge text-color">
                下一篇&nbsp;<i class="fas fa-chevron-right"></i>
            </div>
            <div class="card">
                <a href="/2021/04/18/front-end/mini-waterflow-list/">
                    <div class="card-image">
                        
                        <img src="/../../coverImages/mini-alipay.jpeg" class="responsive-img" alt="封装小程序分页组件 waterflow-list">
                        
                        <span class="card-title">封装小程序分页组件 waterflow-list</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            小程序开发中，列表分页组件是比较常见的需求，每次都要写 totalNum、pageSize、loading 状态等，写得多了，始终觉得很麻烦，萌生了封装一个容器组件的念头。
需求
封装列表分页组件，包含加载状态
尽量少的暴露接口，减少可配置
                        
                    </div>
                    <div class="publish-info">
                            <span class="publish-date">
                                <i class="far fa-clock fa-fw icon-date"></i>2021-04-18
                            </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/%E5%89%8D%E7%AB%AF/" class="post-category">
                                    前端
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/%E5%B0%8F%E7%A8%8B%E5%BA%8F/">
                        <span class="chip bg-color">小程序</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
    </div>
</article>

</div>



<!-- 代码块功能依赖 -->
<script type="text/javascript" src="/libs/codeBlock/codeBlockFuction.js"></script>

<!-- 代码语言 -->

<script type="text/javascript" src="/libs/codeBlock/codeLang.js"></script>


<!-- 代码块复制 -->

<script type="text/javascript" src="/libs/codeBlock/codeCopy.js"></script>


<!-- 代码块收缩 -->

<script type="text/javascript" src="/libs/codeBlock/codeShrink.js"></script>


<!-- 代码块折行 -->

<style type="text/css">
code[class*="language-"], pre[class*="language-"] { white-space: pre !important; }
</style>


    </div>
    <div id="toc-aside" class="expanded col l3 hide-on-med-and-down">
        <div class="toc-widget">
            <div class="toc-title"><i class="far fa-list-alt"></i>&nbsp;&nbsp;目录</div>
            <div id="toc-content"></div>
        </div>
    </div>
</div>

<!-- TOC 悬浮按钮. -->

<div id="floating-toc-btn" class="hide-on-med-and-down">
    <a class="btn-floating btn-large bg-color">
        <i class="fas fa-list-ul"></i>
    </a>
</div>


<script src="/libs/tocbot/tocbot.min.js"></script>
<script>
    $(function () {
        tocbot.init({
            tocSelector: '#toc-content',
            contentSelector: '#articleContent',
            headingsOffset: -($(window).height() * 0.4 - 45),
            collapseDepth: Number(''),
            headingSelector: 'h2, h3, h4'
        });

        // modify the toc link href to support Chinese.
        let i = 0;
        let tocHeading = 'toc-heading-';
        $('#toc-content a').each(function () {
            $(this).attr('href', '#' + tocHeading + (++i));
        });

        // modify the heading title id to support Chinese.
        i = 0;
        $('#articleContent').children('h2, h3, h4').each(function () {
            $(this).attr('id', tocHeading + (++i));
        });

        // Set scroll toc fixed.
        let tocHeight = parseInt($(window).height() * 0.4 - 64);
        let $tocWidget = $('.toc-widget');
        $(window).scroll(function () {
            let scroll = $(window).scrollTop();
            /* add post toc fixed. */
            if (scroll > tocHeight) {
                $tocWidget.addClass('toc-fixed');
            } else {
                $tocWidget.removeClass('toc-fixed');
            }
        });

        
        /* 修复文章卡片 div 的宽度. */
        let fixPostCardWidth = function (srcId, targetId) {
            let srcDiv = $('#' + srcId);
            if (srcDiv.length === 0) {
                return;
            }

            let w = srcDiv.width();
            if (w >= 450) {
                w = w + 21;
            } else if (w >= 350 && w < 450) {
                w = w + 18;
            } else if (w >= 300 && w < 350) {
                w = w + 16;
            } else {
                w = w + 14;
            }
            $('#' + targetId).width(w);
        };

        // 切换TOC目录展开收缩的相关操作.
        const expandedClass = 'expanded';
        let $tocAside = $('#toc-aside');
        let $mainContent = $('#main-content');
        $('#floating-toc-btn .btn-floating').click(function () {
            if ($tocAside.hasClass(expandedClass)) {
                $tocAside.removeClass(expandedClass).hide();
                $mainContent.removeClass('l9');
            } else {
                $tocAside.addClass(expandedClass).show();
                $mainContent.addClass('l9');
            }
            fixPostCardWidth('artDetail', 'prenext-posts');
        });
        
    });
</script>

    

</main>



    <footer class="page-footer bg-color">
    <div class="container row center-align" style="margin-bottom: 15px !important;">
        <div class="col s12 m8 l8 l12 copy-right">
            Copyright&nbsp;&copy;
            <span id="year">2018</span>
            <a href="https://jscoder.com" target="_blank">Yao</a>
            |&nbsp;Powered by&nbsp;<a href="https://hexo.io/" target="_blank">Hexo</a>
            |&nbsp;Theme&nbsp;<a href="https://github.com/blinkfox/hexo-theme-matery" target="_blank">Matery</a>
            <br>
            
            
            
            
            
            
            <span id="busuanzi_container_site_pv">
                |&nbsp;<i class="far fa-eye"></i>&nbsp;总访问量:&nbsp;<span id="busuanzi_value_site_pv"
                    class="white-color"></span>&nbsp;次
            </span>
            
            
            <span id="busuanzi_container_site_uv">
                |&nbsp;<i class="fas fa-users"></i>&nbsp;总访问人数:&nbsp;<span id="busuanzi_value_site_uv"
                    class="white-color"></span>&nbsp;人
            </span>
            
            <br>
            
            <span id="sitetime">载入运行时间...</span>
            <script>
                function siteTime() {
                    var seconds = 1000;
                    var minutes = seconds * 60;
                    var hours = minutes * 60;
                    var days = hours * 24;
                    var years = days * 365;
                    var today = new Date();
                    var startYear = "2018";
                    var startMonth = "1";
                    var startDate = "1";
                    var startHour = "0";
                    var startMinute = "0";
                    var startSecond = "0";
                    var todayYear = today.getFullYear();
                    var todayMonth = today.getMonth() + 1;
                    var todayDate = today.getDate();
                    var todayHour = today.getHours();
                    var todayMinute = today.getMinutes();
                    var todaySecond = today.getSeconds();
                    var t1 = Date.UTC(startYear, startMonth, startDate, startHour, startMinute, startSecond);
                    var t2 = Date.UTC(todayYear, todayMonth, todayDate, todayHour, todayMinute, todaySecond);
                    var diff = t2 - t1;
                    var diffYears = Math.floor(diff / years);
                    var diffDays = Math.floor((diff / days) - diffYears * 365);
                    var diffHours = Math.floor((diff - (diffYears * 365 + diffDays) * days) / hours);
                    var diffMinutes = Math.floor((diff - (diffYears * 365 + diffDays) * days - diffHours * hours) /
                        minutes);
                    var diffSeconds = Math.floor((diff - (diffYears * 365 + diffDays) * days - diffHours * hours -
                        diffMinutes * minutes) / seconds);
                    if (startYear == todayYear) {
                        document.getElementById("year").innerHTML = todayYear;
                        document.getElementById("sitetime").innerHTML = "本站已安全运行 " + diffDays + " 天 " + diffHours +
                            " 小时 " + diffMinutes + " 分钟 " + diffSeconds + " 秒";
                    } else {
                        document.getElementById("year").innerHTML = startYear + " - " + todayYear;
                        document.getElementById("sitetime").innerHTML = "本站已安全运行 " + diffYears + " 年 " + diffDays +
                            " 天 " + diffHours + " 小时 " + diffMinutes + " 分钟 " + diffSeconds + " 秒";
                    }
                }
                setInterval(siteTime, 1000);
            </script>
            
            <br>
            
            <span id="icp"><img src="/medias/icp.png" style="vertical-align: text-bottom;" />
                <a href="http://beian.miit.gov.cn/" target="_blank">苏ICP备15047519号-4</a>
            </span>
            
        </div>
        <div class="col s12 m4 l4 social-link social-statis">
    <a href="https://github.com/Yaob1990" class="tooltipped" target="_blank" data-tooltip="访问我的GitHub" data-position="top" data-delay="50">
        <i class="fab fa-github"></i>
    </a>














<!---->
<!--    <a href="/atom.xml" class="tooltipped" target="_blank" data-tooltip="RSS 订阅" data-position="top" data-delay="50">-->
<!--        <i class="fas fa-rss"></i>-->
<!--    </a>-->
<!---->
</div>
    </div>
</footer>

<div class="progress-bar"></div>


    <!-- 搜索遮罩框 -->
<div id="searchModal" class="modal">
    <div class="modal-content">
        <div class="search-header">
            <span class="title"><i class="fas fa-search"></i>&nbsp;&nbsp;搜索</span>
            <input type="search" id="searchInput" name="s" placeholder="请输入搜索的关键字"
                   class="search-input">
        </div>
        <div id="searchResult"></div>
    </div>
</div>

<script src="/js/search.js"></script>
<script type="text/javascript">
$(function () {
    searchFunc("/" + "search.xml", 'searchInput', 'searchResult');
});
</script>
    <!-- 回到顶部按钮 -->
<div id="backTop" class="top-scroll">
    <a class="btn-floating btn-large waves-effect waves-light" href="#!">
        <i class="fas fa-arrow-up"></i>
    </a>
</div>


    <script src="/libs/materialize/materialize.min.js"></script>
    <script src="/libs/masonry/masonry.pkgd.min.js"></script>
    <script src="/libs/aos/aos.js"></script>
    <script src="/libs/scrollprogress/scrollProgress.min.js"></script>
    <script src="/libs/lightGallery/js/lightgallery-all.min.js"></script>
    <script src="/js/matery.js"></script>

    <!-- Global site tag (gtag.js) - Google Analytics -->

<script async src="https://www.googletagmanager.com/gtag/js?id=G-NNFT7CSJRC"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag() {
        dataLayer.push(arguments);
    }

    gtag('js', new Date());
    gtag('config', 'G-NNFT7CSJRC');
</script>


    <!-- Baidu Analytics -->

    <!-- Baidu Push -->

<script>
    (function () {
        var bp = document.createElement('script');
        var curProtocol = window.location.protocol.split(':')[0];
        if (curProtocol === 'https') {
            bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
        } else {
            bp.src = 'http://push.zhanzhang.baidu.com/push.js';
        }
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(bp, s);
    })();
</script>

    
    <script src="/libs/others/clicklove.js" async="async"></script>
    
    
    <script async src="/libs/others/busuanzi.pure.mini.js"></script>
    

    

    

    

    

    
    <script type="text/javascript" src="/libs/background/ribbon-dynamic.js" async="async"></script>
    
    
    
    <script src="/libs/instantpage/instantpage.js" type="module"></script>
    

</body>

</html>
